<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
        <meta name="author" content="GeeksLabs">
        <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">

        <title>Easy Guide</title>

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
        <link rel="stylesheet" href="https://cdn.gitcdn.xyz/cdn/angular/bower-material/v1.0.1-master-a687bfc/angular-material.css">
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-blue.min.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet">
        <link rel="manifest" href="assets/favicons/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="assets/favicons/ms-icon-144x144.png">
        <link rel="shortcut icon" type="image/png" href="assets/favicons/favicon.ico"/>
        <meta name="theme-color" content="#ffffff">
        <!-- javascripts -->
        <script src="js/components/jquery.js"></script>
        <script src="js/components/jquery-ui-1.10.4.min.js"></script>
        <script src="js/components/jquery-1.8.3.min.js"></script>
        <script type="text/javascript" src="js/components/jquery-ui-1.9.2.custom.min.js"></script>        
        <script src="node_modules/angular/angular.min.js" type="text/javascript"></script>
        <script src="node_modules/toastr/toastr.js" type="text/javascript"></script>
        <script src="node_modules/angular/angular.min.js" type="text/javascript"></script>
        <script src="node_modules/angular-animate/angular-animate.min.js" type="text/javascript"></script>
        <script src="node_modules/angular-aria/angular-aria.min.js" type="text/javascript"></script>
        <script src="node_modules/angular-messages/angular-messages.min.js" type="text/javascript"></script>
        <script src="node_modules/angular-material/angular-material.min.js" type="text/javascript"></script>
        <script src="node_modules/angular-resource/angular-resource.min.js" type="text/javascript"></script>
        <script src="bower_components/firebase/firebase.js" type="text/javascript"></script>
        <script src="bower_components/angular-route/angular-route.js" type="text/javascript"></script>
        <script src="bower_components/angularfire/dist/angularfire.js" type="text/javascript"></script>


        <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/svg-assets-cache.js"></script>
        <script src="https://angular-data-grid.github.io/dist/pagination.js"></script>
        <script src="https://angular-data-grid.github.io/dist/dataGrid.js"></script>
        <script src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Berkshire+Swash" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
        <!-- Application-->
        <link href="css/module/admin.css" rel="stylesheet" />
        <!-- Bootstrap CSS -->    
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.blue_grey-red.min.css">
        <!-- bootstrap theme -->
        <link href="css/bootstrap-theme.css" rel="stylesheet">
        <!-- font icon -->
        <link href="css/elegant-icons-style.css" rel="stylesheet" />
        <link href="css/font-awesome.min.css" rel="stylesheet" />
        <!-- Custom styles -->
        <link href="css/widgets.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
        <link href="css/style-responsive.css" rel="stylesheet">
        <link href="css/xcharts.min.css" rel=" stylesheet">
        <link href="css/jquery-ui-1.10.4.min.css" rel="stylesheet">

        <link href="css/module/comom.css" rel="stylesheet">        
        <script src="js/auth/firebase.config.js" type="text/javascript"></script>
        <script src="js/model/beaconModel.js"  type="text/javascript"></script>
        <script src="js/angular/beaconCtrl.js" type="text/javascript"></script>
        <script src="js/auth/comom.js" type="text/javascript"></script>
    </head>


    <!--
    TODO
    Pagination, Search and Dropdown menu, Color app, admin redesign
    https://material.angularjs.org/latest/demo/menu
    http://angular-data-grid.github.io/demo/material/#/page=1&itemsPerPage=75&sort=code-desc
    
    -->
    <body ng-app="EasyGuide">
        <!-- container section start -->
        <section id="container">
            <header class="header dark-bg">
                <div class="toggle-nav">
                    <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"><i class="icon_menu"></i></div>
                </div>

                <!--logo start-->
                <a href="index.html" class="logo"><img src="img/application/easy_guide_mini_dark_theme.png" height="30px"></a>
                <!--logo end-->
                <div class="top-nav notification-row">                
                    <!-- notificatoin dropdown start-->
                    <ul class="nav pull-right top-menu">
                        <!-- user login dropdown start-->
                        <li class="dropdown">
                            <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                <span class="profile-ava"><img src="img/application/placeholder/profile_picture.png" height="30px" width="30px" id="image_profile"></span>
                                <span class="username" id="username"></span>
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu extended logout">
                                <div class="log-arrow-up"></div>
                                <li>
                                    <a href="login.html"><i class="icon_key_alt"></i> Log Out</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </header>

            <aside>
                <div id="sidebar"  class="nav-collapse ">
                    <!-- sidebar menu start-->
                    <ul class="sidebar-menu">                
                        <li >
                            <a href="index.html">
                                <i><img src="img/icons/ic_home_white_24px.svg"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li>
                            <a href="admin.html">
                                <i><img src="img/icons/ic_person_white_24px.svg"></i>
                                <span>Admin</span>
                            </a>
                        </li>
                        <li class="active">                     
                            <a href="beacons.html">
                                <i><img src="img/icons/ic_settings_bluetooth_white_24px.svg"></i>
                                <span>Beacon</span>

                            </a>
                        </li>
                        <li>                     
                            <a href="log.html">
                                <i><img src="img/icons/ic_view_list_white_24px.svg"></i>
                                <span>Log</span>
                            </a>
                        </li>
                    </ul>
                    <!-- sidebar menu end-->
                </div>
            </aside>
            <!--sidebar end-->

            <!--main content start-->
            <section id="main-content" >
                <section class="wrapper">            
                    <!--overview start-->
                    <div class="row">
                        <div class="col-xs-12">
                            <h3 class="page-header"><i class="fa fa-laptop"></i>Beacon</h3>
                        </div>
                    </div>
                    <div ng-controller="beaconCtrl" id="beaconCtrl">
                        <div class="col-md-4 table-responsive">
                            <div class="table mdl-data-table mdl-js-data-table mdl-shadow--4dp col-md-12" layout="column" layout-padding ng-cloak>
                                <div id="mainData">
                                    <h3>Main Data</h3>
                                    <p>fill in the fields according to the beacons</p>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <md-input-container class="md-block">
                                                <md-icon md-svg-src="img/icons/ic_location_on_black_24px.svg" class="email"></md-icon>
                                                <input ng-model="form.beacon.location" type="text" placeholder="Location" ng-required="true">
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-6">
                                            <md-input-container class="md-block">
                                                <md-icon md-svg-src="img/icons/ic_person_24px.svg" class="name"></md-icon>
                                                <input ng-model="form.beacon.uuid" type="text" placeholder="UUID" ng-required="true">
                                            </md-input-container>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <md-input-container class="md-block">
                                                <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                <input ng-model="form.beacon.major_value" type="number" placeholder="Major Value" ng-required="true">
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-6">
                                            <md-input-container class="md-block">
                                                <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                <input ng-model="form.beacon.minor_value" type="number" placeholder="Minor Value" ng-required="true">
                                            </md-input-container>
                                        </div>
                                    </div>
                                    <md-button ng-click="set(form.beacon);" class="md-raised md-primary md-block">{{!form.beacon.key ? 'Save' : 'Edit'}}</md-button>
                                    <md-button ng-if='form.beacon.key' ng-click="resetBeaconForm();" class="md-raised md-block">Cancel</md-button>
                                </div>
                                <div ng-if="form.beacon.key" id="contents" class="col-md-12">
                                    <hr>
                                    <h3>Content</h3>
                                    <p>The content about what will show in the device when a known beacon <br>have been found.</p>
                                    <div ng-if="form.beacon.content" class="row" id="tableBeaconContent">
                                        <div class="table-responsive">
                                            <table class="table mdl-data-table mdl-js-data-table col-md-12">
                                                <thead>
                                                    <tr>
                                                        <th class="col-md-2">Profile</th>
                                                        <th class="col-md-2">Content</th>
                                                        <th class="col-md-2">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr grid-item ng-repeat="content in form.beacon.content">
                                                        <td class="col-md-2">{{content.profile}}</td>        
                                                        <td class="col-md-2">{{content.text_content}}</td> 
                                                        <td class="col-md-2">
                                                            <span>
                                                                <md-button class="md-fab md-mini md-primary">
                                                                    <md-icon md-svg-src="img/icons/ic_build_24px.svg" ng-click="loadContentOnForm(content);"></md-icon>
                                                                </md-button>
                                                                <md-button class="md-fab md-mini md-warn">
                                                                    <md-icon md-svg-src="img/icons/ic_delete_white_24px.svg" ng-click="delContent(form.beacon.key, content);"></md-icon>
                                                                </md-button>
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row" id="formBeaconContent">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <md-input-container class="md-block">
                                                    <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                    <input ng-model="form.content.profile" type="number" placeholder="Profile" ng-required="true">
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <md-input-container class="md-block">
                                                    <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                    <input ng-model="form.content.speech_content" type="text" placeholder="Speech cont." ng-required="true">
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6">
                                                <md-input-container class="md-block">
                                                    <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                    <input ng-model="form.content.speech_description" type="text" placeholder="Speech desc." ng-required="true">
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <md-input-container class="md-block">
                                                    <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                    <input ng-model="form.content.text_content" type="text" placeholder="Text cont." ng-required="true">
                                                </md-input-container>
                                            </div>
                                            <div class="col-md-6">
                                                <md-input-container class="md-block">
                                                    <md-icon md-svg-src="img/icons/ic_email_24px.svg"></md-icon>
                                                    <input ng-model="form.content.text_description" type="text" placeholder="Text desc." ng-required="true">
                                                </md-input-container>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="file_input_div">
                                                    <div class="file_input">
                                                        <label class="mdl-button mdl-button--fab mdl-button--mini-fab mdl-js-ripple-effect mdl-button--colored">
                                                            <i ng-click="addChangeListener();" class="material-icons">file_upload</i>
                                                            <input type="file" id="file" accept="image/*"/>
                                                        </label>
                                                    </div>
                                                    <div id="file_input_text_div" class="mdl-textfield col-md-10">
                                                        <input class="mdl-textfield__input" type="text" id="file_input_text" placeholder="Add url or Upload the beacon Beacon Picture"ng-model="form.content.image_url" />
                                                        <label for="file_input_text"></label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <md-button ng-click="setContent(form.beacon.key, form.content);" class="md-raised md-primary md-block">{{!form.content.key ? 'Save' : 'Edit'}}</md-button>
                                                <md-button ng-if='form.content.key' ng-click="resetContentForm();" class="md-raised md-block">Cancel</md-button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="true" ng-if="form.beacon.key" id="actions">
                                    <hr>
                                    <h3>Actions</h3>
                                    <p>Become the beacon smart! Use the action for the people <br>can ask about something(input) and give an output.</p>                           
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="table-responsive">
                                <table class="table mdl-data-table mdl-js-data-table mdl-shadow--4dp col-md-12">
                                    <thead>
                                        <tr>
                                            <th class="col-md-2">
                                                <span>Location</span>
                                            </th>
                                            <th class="col-md-1">
                                                <span>UUID</span>
                                            </th>
                                            <th class="col-md-3">
                                                <span>Major Value</span>
                                            </th>
                                            <th class="col-md-3">
                                                <span>Minor Value</span>
                                            </th>
                                            <th class="col-md-2">
                                                <span>Date created</span>
                                            </th>
                                            <th class="col-md-1">
                                                <span>Action</span>
                                            </th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}" grid-item ng-repeat="beacon in beacons">
                                            <td class="col-md-2">{{beacon.location}}</td>
                                            <td class="col-md-1">{{beacon.uuid}}</td> 
                                            <td class="col-md-3">{{beacon.major_value}}</td>
                                            <td class="col-md-3">{{beacon.minor_value}}</td>
                                            <td class="col-md-2">{{beacon.dt_created| date:'MM/dd/yyyy HH:mm:ss'}}</td>
                                            <td class="col-md-1">
                                                <span>
                                                    <md-button class="md-fab md-mini md-primary">
                                                        <md-icon md-svg-src="img/icons/ic_build_24px.svg" ng-click="loadBeaconOnForm(beacon);"></md-icon>
                                                    </md-button>
                                                    <md-button class="md-fab md-mini md-warn">
                                                        <md-icon md-svg-src="img/icons/ic_delete_white_24px.svg" ng-click="del(beacon);"></md-icon>
                                                    </md-button>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </section>
            </section>
            <!--main content end-->
        </section>
        <!-- container section start -->
        <!-- bootstrap -->
        <script src="js/components/bootstrap.min.js"></script>
        <!-- nice scroll -->
        <script src="js/components/jquery.scrollTo.min.js"></script>
        <script src="js/components/jquery.nicescroll.js" type="text/javascript"></script>
        <!-- jQuery full calendar -->
        <!--custome script for all page-->
        <script src="js/components/scripts.js"></script>

        <link rel="manifest" href="assets/favicons/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="assets/favicons/ms-icon-144x144.png">
        <link rel="shortcut icon" type="image/png" href="assets/favicons/favicon.ico"/>
        <meta name="theme-color" content="#ffffff">

    </body>
</html>
